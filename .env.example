# Environment Configuration for Cachet Infrastructure
# Copy this file to .env and fill in your values

# ============================================
# GENERAL SETTINGS
# ============================================
ENVIRONMENT=production  # production or local
TZ=Europe/Rome
PHP_VERSION=8.3         # PHP version to use in containers

# Podman socket path (running using user root or personal user)
# Leave it blank, it will be generated automatically
PODMAN_SOCKET=

# ============================================
# DOMAIN CONFIGURATION
# ============================================
CACHET_DOMAIN=status.yourdomain.com
WEBHOOK_DOMAIN=alerts.yourdomain.com

# ============================================
# PORT CONFIGURATION (for rootless podman)
# ============================================
HTTP_PORT=80
HTTPS_PORT=443

# ============================================
# SSL/TLS CONFIGURATION
# ============================================
# For production with Let's Encrypt: letsencrypt
# For local development: leave empty (self-signed)
CERT_RESOLVER=letsencrypt

# ============================================
# CACHET APPLICATION
# ============================================
APP_NAME=Cachet
APP_ENV=production
APP_DEBUG=false
APP_TIMEZONE=UTC
APP_URL=https://status.yourdomain.com

# Force HTTPS for assets (IMPORTANT for production behind reverse proxy)
ASSET_URL=https://status.yourdomain.com

# Force HTTPS for all generated URLs (Livewire, routes, etc.)
# Set to "true" in production behind HTTPS reverse proxy, false for local
APP_FORCE_HTTPS=false

# Laravel API Key (leave it blank, it will be generated automatically)
APP_KEY=""

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_CONNECTION=pgsql
DB_DATABASE=cachet
DB_USERNAME=YOUR_DB_USERNAME_HERE
# Generate a strong password
DB_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE

# ============================================
# WEBHOOK AUTHENTICATION
# ============================================
# BasicAuth credentials for /webhook endpoint (format: user:hash)
# Generate hash with: htpasswd -nb user password
# Default if not set: admin:admin
# WEBHOOK_BASIC_AUTH=

# ============================================
# CACHET Admin user
# ============================================
CACHET_ADMIN_NAME="Bob Admin"
CACHET_ADMIN_USERNAME="bob.admin@example.com"
CACHET_ADMIN_PASSWORD="MySecurePassword!"

# ============================================
# CACHET API (for middleware)
# ============================================
# Internal URL (between containers)
CACHET_API_URL=http://cachet/api
# API token for middleware operations (leave it blank, it will be generated after first setup)
CACHET_API_TOKEN=""