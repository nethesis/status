# Environment Configuration for Cachet Infrastructure
# Copy this file to .env and fill in your values

# ============================================
# GENERAL SETTINGS
# ============================================
ENVIRONMENT=production  # production or local
TZ=Europe/Rome
USER_ID=1000  # Your user ID for rootless podman
PHP_VERSION=8.3  # PHP version to use in containers

# Podman socket path
# Rootless: /run/user/1000/podman/podman.sock (auto-detected from USER_ID)
# Root: /run/podman/podman.sock
PODMAN_SOCKET=/run/podman/podman.sock

# ============================================
# DOMAIN CONFIGURATION
# ============================================
CACHET_DOMAIN=status.yourdomain.com
WEBHOOK_DOMAIN=alerts.yourdomain.com
TRAEFIK_DOMAIN=traefik.yourdomain.com

# ============================================
# PORT CONFIGURATION (for rootless podman)
# ============================================
HTTP_PORT=8080
HTTPS_PORT=8443
DASHBOARD_PORT=9090

# ============================================
# SSL/TLS CONFIGURATION
# ============================================
# For production with Let's Encrypt: letsencrypt
# For local development: leave empty (self-signed)
CERT_RESOLVER=letsencrypt

# ============================================
# CACHET APPLICATION
# ============================================
APP_NAME=Cachet
APP_ENV=production
APP_DEBUG=false
APP_TIMEZONE=UTC
APP_URL=https://status.yourdomain.com

# Force HTTPS for assets (IMPORTANT for production behind reverse proxy)
ASSET_URL=https://status.yourdomain.com

# Force HTTPS for all generated URLs (Livewire, routes, etc.)
# Set to "true" in production behind HTTPS reverse proxy, false for local
APP_FORCE_HTTPS=false

# Laravel API Key (leave it blank, it will be generated automatically)
APP_KEY=""

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_CONNECTION=pgsql
DB_DATABASE=cachet
DB_USERNAME=YOUR_DB_USERNAME_HERE
# Generate a strong password
DB_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE

# ============================================
# WEBHOOK AUTHENTICATION
# ============================================
# BasicAuth credentials for /webhook endpoint
# These will be automatically hashed and configured in Traefik during deployment
WEBHOOK_USERNAME=your-email@example.com
WEBHOOK_PASSWORD=your-secure-password

# ============================================
# CACHET API (for middleware)
# ============================================
# Internal URL (between containers)
CACHET_API_URL=http://cachet/api
# API token for middleware operations (leave it blank, it will be generated after first setup)
CACHET_API_TOKEN=""
